{"version":3,"file":"runcss.modern.js","sources":["../src/runcss.js"],"sourcesContent":["const isNum = (v) => !isNaN(v)\r\nconst isStartNum = (v) => !isNaN(parseInt(v))\r\nconst elementClassesCache = new Map()\r\nconst classesCache = new Map()\r\n\r\nconst styleElement = document.createElement('style')\r\ndocument.head.appendChild(styleElement)\r\nlet sheet = styleElement.sheet\r\n\r\nconst media = new Map([\r\n  ['sm', sheet.cssRules[sheet.insertRule('@media(min-width:640px){}', sheet.cssRules.length)]],\r\n  ['md', sheet.cssRules[sheet.insertRule('@media(min-width:768px){}', sheet.cssRules.length)]],\r\n  ['lg', sheet.cssRules[sheet.insertRule('@media(min-width:1024px){}', sheet.cssRules.length)]],\r\n  ['xl', sheet.cssRules[sheet.insertRule('@media(min-width:1280px){}', sheet.cssRules.length)]]\r\n])\r\n\r\nsheet.insertRule(':root{--color-opacity:1}', sheet.length)\r\n\r\nlet cls\r\nlet originalClass\r\n\r\nexport function processClasses (classes) {\r\n  if (elementClassesCache.has(classes)) {\r\n    return\r\n  }\r\n  elementClassesCache.set(classes, true)\r\n  classes = classes.replace(/\\s\\s+/g, ' ').split(' ')\r\n  for (cls of classes) {\r\n    if (classesCache.has(cls)) {\r\n      continue\r\n    }\r\n    processClass()\r\n    classesCache.set(cls, true)\r\n  }\r\n}\r\n\r\nconst formatters = new Map([\r\n  ['p', 'padding'],\r\n  ['m', 'margin'],\r\n  ['h', 'height'],\r\n  ['z', 'z-index'],\r\n  ['w', 'width']\r\n])\r\n\r\nconst positions = new Map([\r\n  ['t', '-top'],\r\n  ['b', '-bottom'],\r\n  ['l', '-left'],\r\n  ['r', '-right']\r\n])\r\n\r\nconst classNames = new Map([\r\n  ['container', () => {\r\n    setRule('width:100%')\r\n    const m = ['640px', '768px', '1024px', '1280px']\r\n    media.values().forEach((s, index) => {\r\n      sheet = s\r\n      setRule('max-width:' + m[index])\r\n    })\r\n  }],\r\n  ['clearfix', () => {\r\n    originalClass = 'clearfix::after'\r\n    setRule('content:\"\";display:table;clear:both;')\r\n  }],\r\n  ['font-sans', 'font-family:system-ui,-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,\"Noto Sans\",sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\"'],\r\n  ['font-serif', 'font-family:Georgia,Cambria,\"Times New Roman\",Times,serif'],\r\n  ['font-mono', 'font-family:Menlo,Monaco,Consolas,\"Liberation Mono\",\"Courier New\",monospace']\r\n])\r\n\r\nconst split = (s) => s.split(',')\r\n\r\n// example: object-left-bottom -> object-position: left bottom\r\nconst convertClasses1 = (cName, value) => {\r\n  const hPos = cName.indexOf('-') + 1\r\n  classNames.set(cName, cName.slice(0, hPos) + value + ':' + cName.slice(hPos).replace('-', ' '))\r\n}\r\n\r\n// direct map from class to values\r\nfor (const c of split('box-border|box-sizing:border-box,box-content|box-sizing:content-box,hidden|display:none,object-scale-down|object-fit:scale-down,scrolling-touch|-webkit-overflow-scrolling:touch,scrolling-auto|-webkit-overflow-scrolling:auto,visible|visibility:visible,invisible|visibility:hidden,flex-row|flex-direction:row,flex-row-reverse|flex-direction:row-reverse,flex-col|flex-direction:column,flex-col-reverse|flex-direction:column-reverse,flex-no-wrap|flex-wrap:nowrap,flex-wrap|flex-wrap:wrap,flex-wrap-reverse|flex-wrap:wrap-reverse,items-stretch|align-items:stretch,items-start|align-items:flex-start,items-center|align-items:center,items-end|align-items:flex-end,items-baseline|align-items:baseline,content-start|align-content:flex-start,content-center|align-content:center,content-end|align-content:flex-end,content-between|align-content:space-between,content-around|align-content:space-around,self-auto|align-self:auto,self-start|align-self:flex-start,self-center|align-self:center,self-end|align-self:flex-end,self-stretch|align-self:stretch,justify-start|justify-content:flex-start,justify-center|justify-content:center,justify-end|justify-content:flex-end,justify-between|justify-content:space-between,justify-around|justify-content:space-around,flex-grow|flex-grow:1,flex-grow-0|flex-grow:0,flex-shrink|flex-shrink:1,flex-shrink-0|flex-shrink:0,order-first|order:-9999,order-last|order:9999,order-none|order:0,grid-cols-none|grid-template-columns:none,col-auto|grid-column:auto,col-start-auto|grid-column-start:auto,col-end-auto|grid-column-end:auto,grid-rows-none|grid-template-rows:none,row-auto|grid-row:auto,row-start-auto|grid-row-start:auto,row-end-auto|grid-row-end:auto,gap-px|gap:1px,row-gap-px|row-gap:1px,col-gap-px|column-gap:1px,grid-flow-row|grid-auto-flow:row,grid-flow-col|grid-auto-flow:column,grid-flow-row-dense|grid-auto-flow:row dens,grid-flow-col-dense|grid-auto-flow:column dense,min-w-full|min-width:100%,max-w-xs|max-width:20rem,max-w-sm|max-width:24rem,max-w-md|max-width:28rem,max-w-lg|max-width:32rem,max-w-xl|max-width:36rem,max-w-full|max-width:100%,max-w-screen-sm|max-width:640px,max-w-screen-md|max-width:768px,max-w-screen-lg|max-width:1024px,max-w-screen-xl|max-width:1280px,max-w-none|max-width:none,min-h-full|min-height:100%,min-h-screen|min-height:100vh,max-h-full|max-height:100%,max-h-screen:max-height:100vh,text-2xl|font-size:1.5rem,text-3xl|font-size:1.875rem,text-4xl|font-size:2.25rem,text-left|text-align:left,text-center|text-align:center,text-right|text-align:right,text-justify|text-align:justify,underline|text-decoration:underline,line-through|text-decoration:line-through,no-underline|text-decoration:none,uppercase|text-transform:uppercase,lowercase|text-transform:lowercase,capitalize|text-transform:capitalize,normal-case|text-transform:none,whitespace-no-wrap|white-space:nowrap,break-normal|word-break:normal;overflow-wrap:normal,break-words|overflow-wrap:break-word,break-all|word-break:break-all,truncate|overflow:hidden;text-overflow:ellipsis;white-space:nowrap,flex-initial|flex: 0 1 auto,flex-none|flex:none')) {\r\n  classNames.set(...c.split('|'))\r\n}\r\n\r\n// for (const c of []) {\r\n\r\nfor (const c of split('object-contain,object-cover,object-fill,object-none,object-bottom')) {\r\n  convertClasses1(c, 'fit')\r\n}\r\n\r\nfor (const c of split('object-bottom,object-center,object-left,object-left-bottom,object-left-top,object-right,object-right-bottom,object-right-top,object-top')) {\r\n  convertClasses1(c, 'position')\r\n}\r\n\r\n// class to value\r\nfor (const c of split('float-right,float-left,float-none,clear-left,clear-right,clear-both,clear-none')) {\r\n  classNames.set(c, c.replace('-', ':'))\r\n}\r\n\r\n// display\r\nfor (const c of split('block,flow-root,inline-block,inline,flex,grid,inline-grid,table,table-caption,table-cell,table-column,table-column-group,table-footer-group,table-header-group,table-row-group,table-row')) {\r\n  classNames.set(c, 'display:' + c)\r\n}\r\n\r\n// position\r\nfor (const c of split('static,fixed,absolute,relative,sticky')) {\r\n  classNames.set(c, 'position:' + c)\r\n}\r\n\r\n/*\r\nconst processClass1 = (value) => {\r\n  const hPos = cls.indexOf('-') + 1\r\n  setRule(cls.slice(0, hPos) + value + ':' + cls.slice(hPos).replace('-', ' '))\r\n}\r\n*/\r\nconst colors = split('f7fafc,edf2f7,e2e8f0,cbd5e0,a0aec0,718096,4a5568,2d3748,1a202c,fff5f5,fed7d7,feb2b2,fc8181,f56565,e53e3e,c53030,9b2c2c,742a2a,fffaf0,feebc8,fbd38d,f6ad55,ed8936,dd6b20,c05621,9c4221,7b341e,fffff0,fefcbf,faf089,f6e05e,ecc94b,d69e2e,b7791f,975a16,744210,f0fff4,c6f6d5,9ae6b4,68d391,48bb78,38a169,2f855a,276749,22543d,e6fffa,b2f5ea,81e6d9,4fd1c5,38b2ac,319795,2c7a7b,285e61,234e52,ebf8ff,bee3f8,90cdf4,63b3ed,4299e1,3182ce,2b6cb0,2c5282,2a4365,ebf4ff,c3dafe,a3bffa,7f9cf5,667eea,5a67d8,4c51bf,434190,3c366b,faf5ff,e9d8fd,d6bcfa,b794f4,9f7aea,805ad5,6b46c1,553c9a,44337a,fff5f7,fed7e2,fbb6ce,f687b3,ed64a6,d53f8c,b83280,97266d,702459')\r\n\r\nconst colorNames = split('gray,red,orange,yellow,green,teal,blue,indigo,purple,pink')\r\n\r\nconst setColor = (type) => {\r\n  // const colorRule = () => setRule(type + '-color:' + color)\r\n  if (l > 3) {\r\n    notFound()\r\n    return\r\n  }\r\n  const starting = sp.slice(0, 3)\r\n  if (starting.startsWith('#') || ['rgb', 'hsl'].includes(starting) || ['transparent', 'current'].includes(sp)) {\r\n    setRule(type + ':' + sp)\r\n    return\r\n  }\r\n  let color\r\n  if (l === 3) {\r\n    if (tp.length !== 3 || !tp.endsWith('00')) {\r\n      notFound()\r\n      return\r\n    }\r\n    const colorPos = colorNames.indexOf(sp)\r\n    if (colorPos === -1) {\r\n      notFound()\r\n      return\r\n    }\r\n    color = colors[colorPos * 9 + (Number(tp[0]) - 1)]\r\n    const rgba = type + `:rgba(${parseInt(color.slice(0, 2), 16)},${parseInt(color.slice(2, 4), 16)},${parseInt(color.slice(4, 6), 16)},var(--${type}-opacity))`\r\n    setRule(type + `:#${color};` + rgba)\r\n    return\r\n  } else {\r\n    if (sp === 'black') {\r\n      color = '#000'\r\n    } else if (sp === 'white') {\r\n      color = '#fff'\r\n    }\r\n    if (color !== undefined) {\r\n      setRule(type + ':' + color)\r\n      return\r\n    }\r\n  }\r\n  notFound()\r\n}\r\n\r\nconst setOpacity = (type) => {\r\n  if (isNaN(tp)) {\r\n    notFound()\r\n    return\r\n  }\r\n  setRule(`--${type}:` + (tp === '100' ? '1' : '0.' + tp))\r\n}\r\n\r\nconst setPosition = () => {\r\n  if (!split('auto,initial,inherit').includes(lp) && !isStartNum(lp)) {\r\n    notFound()\r\n    return\r\n  }\r\n  const v = negative + lp\r\n  if (l === 3) {\r\n    if (sp === 'y') {\r\n      setRule(`top:${v};bottom:` + v)\r\n      return\r\n    } else if (sp === 'x') {\r\n      setRule(`left:${v};right:` + v)\r\n      return\r\n    }\r\n  } else if (l === 2) {\r\n    if (fp === 'inset') {\r\n      setRule(`top:${v};right:${v};bottom:${v};left:` + v)\r\n      return\r\n    }\r\n    setRule(fp + ':' + v)\r\n    return\r\n  }\r\n  notFound()\r\n}\r\n\r\nconst cls2process = new Map([\r\n  ['overflow', () => {\r\n    setRule(fp + `-${sp}:` + tp)\r\n  }],\r\n  ['text', () => {\r\n    if (l === 2) {\r\n      const pos = split('xs,sm,base,lg,xl').indexOf(sp)\r\n      if (pos > -1) {\r\n        setRule(`font-size:${0.75 + (0.125 * pos)}rem`)\r\n        return\r\n      }\r\n      if (sp.endsWith('xl')) {\r\n        const [num] = sp.split('x')\r\n        if (isNum(num)) {\r\n          setRule(`font-size:${Number(num) - 2}rem`)\r\n          return\r\n        }\r\n      }\r\n    }\r\n    if (l === 3) {\r\n      if (sp === 'opacity') {\r\n        setOpacity('color-opacity')\r\n      }\r\n    }\r\n    setColor('color')\r\n  }],\r\n  ['font', () => {\r\n    if (l === 2) {\r\n      const pos = split('hairline,thin,light,normal,medium,semibold,bold,extrabold,black').indexOf(sp)\r\n      if (pos > -1) {\r\n        setRule('font-weight:' + (100 * (1 + pos)))\r\n        return\r\n      }\r\n    }\r\n    notFound()\r\n  }],\r\n  ['align', () => {\r\n    const r = cls.slice(6)\r\n    if (split('baseline,top,middle,bottom,text-top,text-bottom').includes(r)) {\r\n      setRule('vertical-align:' + r)\r\n      return\r\n    }\r\n    notFound()\r\n  }],\r\n  ['whitespace', () => {\r\n    const r = cls.slice(6)\r\n    if (split('normal,pre,pre-line,pre-wrap').includes(r)) {\r\n      setRule('white-space:' + r)\r\n      return\r\n    }\r\n    notFound()\r\n  }],\r\n  ['inset', setPosition],\r\n  ['top', setPosition],\r\n  ['right', setPosition],\r\n  ['bottom', setPosition],\r\n  ['left', setPosition],\r\n  ['flex', () => {\r\n    if (sp === 'grow' || sp === 'shrink') {\r\n      if (l === 2) {\r\n        setRule(`flex-${sp}:1`)\r\n        return\r\n      } else if (l === 3 && isNum(tp)) {\r\n        setRule(`flex-${sp}:` + tp)\r\n        return\r\n      }\r\n      notFound()\r\n    }\r\n    if (!isNum(sp) && sp !== 'auto') {\r\n      notFound()\r\n      return\r\n    }\r\n    if (l === 2) {\r\n      setRule(`flex:${sp} 1 0%`)\r\n      return\r\n    }\r\n    if (l === 3 && (isNum(tp) || tp === 'auto')) {\r\n      setRule(`flex:${sp} ${tp} 0%`)\r\n      return\r\n    }\r\n    const fp = parts[3]\r\n    if (l === 4 && (isNum(tp) || tp === 'auto') && (isStartNum(fp) || fp === 'auto')) {\r\n      setRule(`flex:${sp} ${tp} ` + fp)\r\n      return\r\n    }\r\n    notFound()\r\n  }],\r\n  ['order', () => {\r\n    if (l !== 2 || !isNum(sp)) {\r\n      notFound()\r\n      return\r\n    }\r\n    setRule(fp + ':' + negative + sp)\r\n  }],\r\n  ['grid', () => {\r\n    if (l === 3 && isNum(tp)) {\r\n      switch (sp) {\r\n        case 'cols':\r\n          setRule(`grid-template-columns: repeat(${tp}, minmax(0, 1fr))`)\r\n          return\r\n        case 'span':\r\n          setRule(`grid-column: span ${tp} / span ` + tp)\r\n          return\r\n        case 'start':\r\n          setRule('grid-column-start:' + tp)\r\n          return\r\n        case 'end':\r\n          setRule('grid-column-end:' + tp)\r\n          return\r\n        case 'rows':\r\n          setRule(`grid-template-rows: repeat(${tp}, minmax(0, 1fr))`)\r\n          return\r\n      }\r\n    }\r\n    notFound()\r\n  }]\r\n])\r\n\r\nlet parts\r\nlet fp // first  part\r\nlet sp // second part\r\nlet tp // third part\r\nlet lp // last part\r\nlet we // without end\r\nlet l // parts.length\r\nlet negative\r\n\r\nfunction processClass () {\r\n  sheet = styleElement.sheet\r\n  negative = ''\r\n  originalClass = cls\r\n  parts = cls.split(':')\r\n  if (parts.length > 1) {\r\n    cls = parts[parts.length - 1]\r\n    if (media.has(parts[0])) {\r\n      sheet = media.get(parts[0])\r\n    }\r\n  }\r\n  if (cls[0] === '-') {\r\n    negative = '-'\r\n    cls = cls.slice(1)\r\n  }\r\n  if (cls.length < 3) {\r\n    notFound()\r\n    return\r\n  }\r\n  parts = cls.split('-')\r\n  l = parts.length\r\n  ;[fp, sp, tp] = parts\r\n  lp = parts[l - 1]\r\n  we = parts.slice(0, -1).join('-')\r\n  if (fp.length < 3 && fp !== 'bg') {\r\n    formatClass()\r\n    return\r\n  }\r\n  const classValue = classNames.get(cls)\r\n  if (classValue !== undefined) {\r\n    if (typeof classValue === 'function') {\r\n      classValue()\r\n    } else {\r\n      setRule(classValue)\r\n    }\r\n    return\r\n  }\r\n  if (l < 2) {\r\n    notFound()\r\n    return\r\n  }\r\n  const process = cls2process.get(fp)\r\n  if (typeof process === 'function') {\r\n    process()\r\n    return\r\n  }\r\n  notFound()\r\n}\r\n\r\nfunction formatClass () {\r\n  let v\r\n  if (sp === 'px') {\r\n    v = `${negative}1px`\r\n  } else if (sp === 'full') {\r\n    v = '100%'\r\n  } else if (sp === 'screen') {\r\n    if (fp === 'w') {\r\n      v = '100vw'\r\n    } else if (fp === 'h') {\r\n      v = '100vh'\r\n    } else {\r\n      notFound()\r\n      return\r\n    }\r\n  } else if (isNum(sp)) { // is a number\r\n    v = `${negative}${Number(sp) * 0.25}rem`\r\n  } else if (sp.indexOf('/') > -1) {\r\n    let [top, bottom] = sp.split('/')\r\n    top = Number(top)\r\n    bottom = Number(bottom)\r\n    if (isNaN(top) || isNaN(bottom)) {\r\n      notFound()\r\n      return\r\n    }\r\n    v = negative + (Number(top) / Number(bottom)).toFixed(6) + '%'\r\n  } else if (isStartNum(sp)) {\r\n    v = negative + sp\r\n  } else {\r\n    notFound()\r\n    return\r\n  }\r\n\r\n  const basicPart = formatters.get(fp[0])\r\n  if (basicPart === undefined) {\r\n    notFound()\r\n    return\r\n  }\r\n  if (fp.length > 1) {\r\n    if (fp[1] === 'x') {\r\n      setRule(basicPart + '-right:' + v)\r\n      setRule(basicPart + '-left:' + v)\r\n    } else if (fp[1] === 'y') {\r\n      setRule(basicPart + '-top:' + v)\r\n      setRule(basicPart + '-bottom:' + v)\r\n    } else {\r\n      const position = positions.get(fp[1])\r\n      if (position === undefined) {\r\n        notFound()\r\n        return\r\n      }\r\n      setRule(basicPart + position + ':' + v)\r\n    }\r\n  } else {\r\n    setRule(basicPart + ':' + v)\r\n  }\r\n}\r\n\r\nfor (const s of document.styleSheets) {\r\n  console.log(s)\r\n}\r\n\r\nfunction notFound () {\r\n  if (sheet === styleElement.sheet) {\r\n    return\r\n  }\r\n  for (const s of document.styleSheets) {\r\n    console.log(s)\r\n    for (const rule of s.cssRules) {\r\n      // eslint-disable-next-line no-undef\r\n      if (rule.type === CSSRule.STYLE_RULE) {\r\n        if (rule.selectorText.split(',').map((item) => item.trim()).includes('.' + cls)) {\r\n          cls = originalClass.replace(/[.:]/, '\\\\$&')\r\n          console.log(`.${cls}${rule.cssText.slice(rule.cssText.indexOf('{'))}`)\r\n          sheet.insertRule(`.${cls}${rule.cssText.slice(rule.cssText.indexOf('{'))}`, sheet.length)\r\n          return\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction setRule (t) {\r\n  cls = originalClass.replace(/[.:(),]/g, '\\\\$&')\r\n  console.log(`.${cls}{${t}}`)\r\n  sheet.insertRule(`.${cls}{${t}}`, sheet.length)\r\n}\r\n"],"names":["isNum","v","isNaN","isStartNum","parseInt","elementClassesCache","Map","classesCache","styleElement","document","createElement","head","appendChild","sheet","media","cssRules","insertRule","length","cls","originalClass","processClasses","classes","has","set","replace","split","processClass","formatters","positions","classNames","setRule","m","values","forEach","s","index","convertClasses1","cName","value","hPos","indexOf","slice","c","colors","colorNames","setPosition","includes","lp","notFound","negative","l","sp","fp","cls2process","tp","pos","endsWith","num","Number","type","starting","startsWith","color","undefined","colorPos","rgba","setColor","r","parts","we","get","join","top","bottom","toFixed","basicPart","position","formatClass","classValue","process","styleSheets","console","log","rule","CSSRule","STYLE_RULE","selectorText","map","item","trim","cssText","t"],"mappings":"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"}