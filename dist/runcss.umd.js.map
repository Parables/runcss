{"version":3,"file":"runcss.umd.js","sources":["../src/runcss.js"],"sourcesContent":["const isNum = (v) => !isNaN(v)\r\nconst isStartNum = (v) => !isNaN(parseInt(v))\r\nconst split = (s) => s.split(',')\r\nconst indexOf = (s, v) => split(s).indexOf(v)\r\nconst includes = (s, v) => split(s).includes(v)\r\nconst ifRemTo = (v) => isNum(v) ? negative + Number(v) * 0.25 + 'rem' : v\r\nconst elementClassesCache = new Map()\r\nconst classesCache = new Map()\r\n\r\nconst styleElement = document.createElement('style')\r\ndocument.head.appendChild(styleElement)\r\nlet sheet = styleElement.sheet\r\n\r\nconst media = new Map()\r\n\r\nfor (let a of split('sm|@media(min-width:640px){},md|@media(min-width:768px){},lg|@media(min-width:1024px){},xl|@media(min-width:1280px){}')) {\r\n  a = a.split('|')\r\n  media.set(a[0], sheet.cssRules[sheet.insertRule(a[1], sheet.cssRules.length)])\r\n}\r\n\r\n// sheet.insertRule(':root{--color-opacity:1}', sheet.length)\r\n\r\nlet cls\r\nlet originalClass\r\nlet classAdd\r\n\r\nexport function processClasses (classes) {\r\n  if (elementClassesCache.has(classes)) {\r\n    return\r\n  }\r\n  elementClassesCache.set(classes, true)\r\n  classes = classes.replace(/\\s\\s+/g, ' ').split(' ')\r\n  for (cls of classes) {\r\n    if (classesCache.has(cls)) {\r\n      continue\r\n    }\r\n    processClass()\r\n    classesCache.set(cls, true)\r\n  }\r\n}\r\n\r\nconst formatters = new Map([\r\n  ['p', 'padding'],\r\n  ['m', 'margin'],\r\n  ['h', 'height'],\r\n  ['z', 'z-index'],\r\n  ['w', 'width']\r\n])\r\n\r\nconst positions = new Map([\r\n  ['t', '-top'],\r\n  ['b', '-bottom'],\r\n  ['l', '-left'],\r\n  ['r', '-right']\r\n])\r\n\r\nconst classNames = new Map([\r\n  ['container', () => {\r\n    setRule('width:100%')\r\n    const m = ['640px', '768px', '1024px', '1280px']\r\n    media.values().forEach((s, index) => {\r\n      sheet = s\r\n      setRule('max-width:' + m[index])\r\n    })\r\n  }],\r\n  ['clearfix', () => {\r\n    originalClass = 'clearfix::after'\r\n    setRule('content:\"\"!important;display:table!important;clear:both')\r\n  }],\r\n  ['font-sans', 'font-family:system-ui,-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,\"Noto Sans\",sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\"'],\r\n  ['font-serif', 'font-family:Georgia,Cambria,\"Times New Roman\",Times,serif'],\r\n  ['font-mono', 'font-family:Menlo,Monaco,Consolas,\"Liberation Mono\",\"Courier New\",monospace']\r\n])\r\n\r\n// example: object-left-bottom -> object-position: left bottom\r\nconst convertClasses1 = (cName, value) => {\r\n  const hPos = cName.indexOf('-') + 1\r\n  classNames.set(cName, cName.slice(0, hPos) + value + ':' + cName.slice(hPos).replace('-', ' '))\r\n}\r\n\r\n// direct map from class to values\r\nfor (const c of split('box-border|box-sizing:border-box,box-content|box-sizing:content-box,hidden|display:none,object-scale-down|object-fit:scale-down,scrolling-touch|-webkit-overflow-scrolling:touch,scrolling-auto|-webkit-overflow-scrolling:auto,visible|visibility:visible,invisible|visibility:hidden,flex-row|flex-direction:row,flex-row-reverse|flex-direction:row-reverse,flex-col|flex-direction:column,flex-col-reverse|flex-direction:column-reverse,flex-no-wrap|flex-wrap:nowrap,flex-wrap|flex-wrap:wrap,flex-wrap-reverse|flex-wrap:wrap-reverse,items-stretch|align-items:stretch,items-start|align-items:flex-start,items-center|align-items:center,items-end|align-items:flex-end,items-baseline|align-items:baseline,content-start|align-content:flex-start,content-center|align-content:center,content-end|align-content:flex-end,content-between|align-content:space-between,content-around|align-content:space-around,self-auto|align-self:auto,self-start|align-self:flex-start,self-center|align-self:center,self-end|align-self:flex-end,self-stretch|align-self:stretch,justify-start|justify-content:flex-start,justify-center|justify-content:center,justify-end|justify-content:flex-end,justify-between|justify-content:space-between,justify-around|justify-content:space-around,flex-grow|flex-grow:1,flex-grow-0|flex-grow:0,flex-shrink|flex-shrink:1,flex-shrink-0|flex-shrink:0,order-first|order:-9999,order-last|order:9999,order-none|order:0,grid-cols-none|grid-template-columns:none,col-auto|grid-column:auto,col-start-auto|grid-column-start:auto,col-end-auto|grid-column-end:auto,grid-rows-none|grid-template-rows:none,row-auto|grid-row:auto,row-start-auto|grid-row-start:auto,row-end-auto|grid-row-end:auto,gap-px|gap:1px,row-gap-px|row-gap:1px,col-gap-px|column-gap:1px,grid-flow-row|grid-auto-flow:row,grid-flow-col|grid-auto-flow:column,grid-flow-row-dense|grid-auto-flow:row dens,grid-flow-col-dense|grid-auto-flow:column dense,min-w-full|min-width:100%,max-w-full|max-width:100%,max-w-screen-sm|max-width:640px,max-w-screen-md|max-width:768px,max-w-screen-lg|max-width:1024px,max-w-screen-xl|max-width:1280px,max-w-none|max-width:none,min-h-full|min-height:100%,min-h-screen|min-height:100vh,max-h-full|max-height:100%,max-h-screen|max-height:100vh,text-2xl|font-size:1.5rem,text-3xl|font-size:1.875rem,text-4xl|font-size:2.25rem,text-left|text-align:left,text-center|text-align:center,text-right|text-align:right,text-justify|text-align:justify,underline|text-decoration:underline,line-through|text-decoration:line-through,no-underline|text-decoration:none,uppercase|text-transform:uppercase,lowercase|text-transform:lowercase,capitalize|text-transform:capitalize,normal-case|text-transform:none,whitespace-no-wrap|white-space:nowrap,break-normal|word-break:normal!important;overflow-wrap:normal,break-words|overflow-wrap:break-word,break-all|word-break:break-all,truncate|overflow:hidden!important;text-overflow:ellipsis!important;white-space:nowrap,flex-initial|flex: 0 1 auto,flex-none|flex:none,h-auto|height:auto,max-w-2xl|max-width:42rem,tracking-tighter|letter-spacing:-0.05em,tracking-tight|letter-spacing:-0.025em,tracking-normal|0,tracking-wide:letter-spacing:0.025em,tracking-wider|letter-spacing:0.05em,tracking-widest|letter-spacing: 0.1em,leading-none|line-height:1,leading-tight|line-height:1.25,leading-snug|line-height:1.375,leading-normal|line-height:1.5,leading-relaxed|line-height:1.625,leading-loose|line-height:2,list-none|list-style-type:none,list-disc|list-style-type:disc,list-decimal|list-style-type:decimal,list-inside|list-style-position:inside,list-outside|list-style-position:outside')) {\r\n  classNames.set(...c.split('|'))\r\n}\r\n\r\n// for (const c of []) {\r\n\r\nfor (const c of split('object-contain,object-cover,object-fill,object-none,object-bottom')) {\r\n  convertClasses1(c, 'fit')\r\n}\r\n\r\nfor (const c of split('object-bottom,object-center,object-left,object-left-bottom,object-left-top,object-right,object-right-bottom,object-right-top,object-top')) {\r\n  convertClasses1(c, 'position')\r\n}\r\n\r\n// class to value\r\nfor (const c of split('float-right,float-left,float-none,clear-left,clear-right,clear-both,clear-none')) {\r\n  classNames.set(c, c.replace('-', ':'))\r\n}\r\n\r\n// display\r\nfor (const c of split('block,flow-root,inline-block,inline,flex,grid,inline-grid,table,table-caption,table-cell,table-column,table-column-group,table-footer-group,table-header-group,table-row-group,table-row')) {\r\n  classNames.set(c, 'display:' + c)\r\n}\r\n\r\n// position\r\nfor (const c of split('static,fixed,absolute,relative,sticky')) {\r\n  classNames.set(c, 'position:' + c)\r\n}\r\n\r\n/*\r\nconst processClass1 = (value) => {\r\n  const hPos = cls.indexOf('-') + 1\r\n  setRule(cls.slice(0, hPos) + value + ':' + cls.slice(hPos).replace('-', ' '))\r\n}\r\n*/\r\nconst colors = split('f7fafc,edf2f7,e2e8f0,cbd5e0,a0aec0,718096,4a5568,2d3748,1a202c,fff5f5,fed7d7,feb2b2,fc8181,f56565,e53e3e,c53030,9b2c2c,742a2a,fffaf0,feebc8,fbd38d,f6ad55,ed8936,dd6b20,c05621,9c4221,7b341e,fffff0,fefcbf,faf089,f6e05e,ecc94b,d69e2e,b7791f,975a16,744210,f0fff4,c6f6d5,9ae6b4,68d391,48bb78,38a169,2f855a,276749,22543d,e6fffa,b2f5ea,81e6d9,4fd1c5,38b2ac,319795,2c7a7b,285e61,234e52,ebf8ff,bee3f8,90cdf4,63b3ed,4299e1,3182ce,2b6cb0,2c5282,2a4365,ebf4ff,c3dafe,a3bffa,7f9cf5,667eea,5a67d8,4c51bf,434190,3c366b,faf5ff,e9d8fd,d6bcfa,b794f4,9f7aea,805ad5,6b46c1,553c9a,44337a,fff5f7,fed7e2,fbb6ce,f687b3,ed64a6,d53f8c,b83280,97266d,702459')\r\n\r\nconst colorNames = split('gray,red,orange,yellow,green,teal,blue,indigo,purple,pink')\r\n\r\nconst setColor = (type) => {\r\n  // const colorRule = () => setRule(type + '-color:' + color)\r\n  if (partsLength > 3) {\r\n    notFound()\r\n    return\r\n  }\r\n  const starting = secondPart.slice(0, 3)\r\n  if (starting.startsWith('#') || includes('rgb,hsl', starting) || includes('transparent,current', secondPart)) {\r\n    setRule(type + ':' + secondPart)\r\n    return\r\n  }\r\n  let color\r\n  if (partsLength === 3) {\r\n    if (thirdPart.length !== 3 || !thirdPart.endsWith('00')) {\r\n      notFound()\r\n      return\r\n    }\r\n    const colorPos = colorNames.indexOf(secondPart)\r\n    if (colorPos === -1) {\r\n      notFound()\r\n      return\r\n    }\r\n    color = colors[colorPos * 9 + (Number(thirdPart[0]) - 1)]\r\n    const rgba = type + `:rgba(${parseInt(color.slice(0, 2), 16)},${parseInt(color.slice(2, 4), 16)},${parseInt(color.slice(4, 6), 16)},var(--${type}-opacity,1))`\r\n    setRule(type + `:#${color}!important;` + rgba)\r\n    return\r\n  } else {\r\n    if (secondPart === 'black') {\r\n      color = '#000'\r\n    } else if (secondPart === 'white') {\r\n      color = '#fff'\r\n    }\r\n    if (color !== undefined) {\r\n      setRule(type + ':' + color)\r\n      return\r\n    }\r\n  }\r\n  notFound()\r\n}\r\n\r\nconst setOpacity = (type) => {\r\n  if (isNaN(thirdPart)) {\r\n    notFound()\r\n    return\r\n  }\r\n  setRule(`--${type}:` + (thirdPart === '100' ? '1' : '0.' + thirdPart))\r\n}\r\n\r\nconst setPosition = () => {\r\n  if (!includes('auto,initial,inherit', lastPart) && !isStartNum(lastPart)) {\r\n    notFound()\r\n    return\r\n  }\r\n  const v = negative + lastPart\r\n  if (partsLength === 3) {\r\n    if (secondPart === 'y') {\r\n      setRule(`top:${v}!important;bottom:` + v)\r\n      return\r\n    } else if (secondPart === 'x') {\r\n      setRule(`left:${v}!important;right:` + v)\r\n      return\r\n    }\r\n  } else if (partsLength === 2) {\r\n    if (firstPart === 'inset') {\r\n      setRule(`top:${v}!important;right:${v}!important;bottom:${v}!important;left:` + v)\r\n      return\r\n    }\r\n    setRule(firstPart + ':' + v)\r\n    return\r\n  }\r\n  notFound()\r\n}\r\n\r\nconst cls2process = new Map([\r\n  ['overflow', () => {\r\n    setRule(firstPart + `-${secondPart}:` + thirdPart)\r\n  }],\r\n  ['text', () => {\r\n    if (partsLength === 2) {\r\n      const pos = indexOf('xs,sm,base,lg,xl', secondPart)\r\n      if (pos > -1) {\r\n        setRule(`font-size:${0.75 + (0.125 * pos)}rem`)\r\n        return\r\n      }\r\n      if (secondPart.endsWith('xl')) {\r\n        const [num] = secondPart.split('x')\r\n        if (isNum(num)) {\r\n          setRule(`font-size:${Number(num) - 2}rem`)\r\n          return\r\n        }\r\n      }\r\n    }\r\n    if (partsLength === 3) {\r\n      if (secondPart === 'opacity') {\r\n        setOpacity('color-opacity')\r\n        return\r\n      }\r\n    }\r\n    setColor('color')\r\n  }],\r\n  ['font', () => {\r\n    if (partsLength === 2) {\r\n      const pos = indexOf('hairline,thin,light,normal,medium,semibold,bold,extrabold,black', secondPart)\r\n      if (pos > -1) {\r\n        setRule('font-weight:' + (100 * (1 + pos)))\r\n        return\r\n      }\r\n    }\r\n    notFound()\r\n  }],\r\n  ['whitespace', () => {\r\n    if (includes('normal,pre,pre-line,pre-wrap', rest)) {\r\n      setRule('white-space:' + rest)\r\n      return\r\n    }\r\n    notFound()\r\n  }],\r\n  ['inset', setPosition],\r\n  ['top', setPosition],\r\n  ['right', setPosition],\r\n  ['bottom', setPosition],\r\n  ['left', setPosition],\r\n  ['flex', () => {\r\n    if (secondPart === 'grow' || secondPart === 'shrink') {\r\n      if (partsLength === 2) {\r\n        setRule(`flex-${secondPart}:1`)\r\n        return\r\n      } else if (partsLength === 3 && isNum(thirdPart)) {\r\n        setRule(`flex-${secondPart}:` + thirdPart)\r\n        return\r\n      }\r\n      notFound()\r\n    }\r\n    if (!isNum(secondPart) && secondPart !== 'auto') {\r\n      notFound()\r\n      return\r\n    }\r\n    if (partsLength === 2) {\r\n      setRule(`flex:${secondPart} 1 0%`)\r\n      return\r\n    }\r\n    if (partsLength === 3 && (isNum(thirdPart) || thirdPart === 'auto')) {\r\n      setRule(`flex:${secondPart} ${thirdPart} 0%`)\r\n      return\r\n    }\r\n    const fp = parts[3]\r\n    if (partsLength === 4 && (isNum(thirdPart) || thirdPart === 'auto') && (isStartNum(fp) || fp === 'auto')) {\r\n      setRule(`flex:${secondPart} ${thirdPart} ` + fp)\r\n      return\r\n    }\r\n    notFound()\r\n  }],\r\n  ['order', () => {\r\n    if (partsLength !== 2 || !isNum(secondPart)) {\r\n      notFound()\r\n      return\r\n    }\r\n    setRule(firstPart + ':' + negative + secondPart)\r\n  }],\r\n  ['grid', () => {\r\n    if (partsLength === 3 && isNum(thirdPart)) {\r\n      switch (secondPart) {\r\n        case 'cols':\r\n          setRule(`grid-template-columns: repeat(${thirdPart}, minmax(0, 1fr))`)\r\n          return\r\n        case 'span':\r\n          setRule(`grid-column: span ${thirdPart} / span ` + thirdPart)\r\n          return\r\n        case 'start':\r\n          setRule('grid-column-start:' + thirdPart)\r\n          return\r\n        case 'end':\r\n          setRule('grid-column-end:' + thirdPart)\r\n          return\r\n        case 'rows':\r\n          setRule(`grid-template-rows: repeat(${thirdPart}, minmax(0, 1fr))`)\r\n          return\r\n      }\r\n    }\r\n    notFound()\r\n  }],\r\n  ['row', () => {\r\n    if (partsLength === 3 && isStartNum(thirdPart)) {\r\n      switch (secondPart) {\r\n        case 'span':\r\n          setRule(`grid-row: span ${thirdPart} / span ${thirdPart}`)\r\n          return\r\n        case 'start':\r\n          setRule('grid-row-start:' + thirdPart)\r\n          return\r\n        case 'end':\r\n          setRule('grid-row-end:' + thirdPart)\r\n          return\r\n        case 'gap':\r\n          setRule('row-gap:' + ifRemTo(thirdPart))\r\n          return\r\n      }\r\n    }\r\n    notFound()\r\n  }],\r\n  ['col', () => {\r\n    if (partsLength === 3 && isStartNum(thirdPart)) {\r\n      switch (secondPart) {\r\n        case 'gap':\r\n          setRule('column-gap:' + ifRemTo(thirdPart))\r\n          return\r\n      }\r\n    }\r\n    notFound()\r\n  }],\r\n  ['gap', () => {\r\n    if (partsLength === 2 && isStartNum(secondPart)) {\r\n      setRule('gap:' + ifRemTo(secondPart))\r\n      return\r\n    }\r\n    notFound()\r\n  }],\r\n  ['space', () => {\r\n    classAdd = '>:not(template)~:not(template)'\r\n    if (thirdPart === 'px') {\r\n      thirdPart = '1px'\r\n    }\r\n    if (partsLength === 3) {\r\n      if (isStartNum(thirdPart)) {\r\n        const v = ifRemTo(thirdPart)\r\n        if (secondPart === 'x') {\r\n          setRule(`margin-right:calc(${v}*var(--space-x-reverse,0))!important;margin-left:calc(${v}*(1 - var(--space-x-reverse,0)))`)\r\n          return\r\n        } else if (secondPart === 'y') {\r\n          setRule(`margin-top:calc(${v}*(1 - var(--space-y-reverse,0)))!important; margin-bottom:calc(${v}*var(--space-y-reverse,0))`)\r\n          return\r\n        }\r\n      } else if (thirdPart === 'reverse') {\r\n        if (secondPart === 'y' || secondPart === 'x') {\r\n          setRule(`--space-${secondPart}-reverse:1`)\r\n          return\r\n        }\r\n      }\r\n    }\r\n    notFound()\r\n  }],\r\n  ['min', () => {\r\n    if (partsLength === 3 && isStartNum(thirdPart)) {\r\n      if (secondPart === 'w' || secondPart === 'h') {\r\n        const p = secondPart === 'w' ? 'width' : 'height'\r\n        setRule(`min-${p}:` + thirdPart)\r\n        return\r\n      }\r\n    }\r\n    notFound()\r\n  }],\r\n  ['max', () => {\r\n    if (partsLength === 3) {\r\n      if (secondPart === 'w') {\r\n        const pos = indexOf('xs,sm,md,lg,xl', thirdPart)\r\n        if (pos > -1) {\r\n          setRule(`max-width:${pos * 4 + 20}rem`)\r\n          return\r\n        } else if (isStartNum(thirdPart)) {\r\n          if (thirdPart.endsWith('xl')) {\r\n            setRule(`max-width:${parseInt(thirdPart) * 8 + 24}rem`)\r\n            return\r\n          }\r\n          setRule('max-width:' + thirdPart)\r\n          return\r\n        }\r\n      } else if (secondPart === 'h' && isStartNum(thirdPart)) {\r\n        setRule('max-height:' + thirdPart)\r\n        return\r\n      }\r\n    }\r\n    notFound()\r\n  }],\r\n  ['tracking', () => {\r\n    if (partsLength === 2 && isStartNum(secondPart)) {\r\n      setRule('letter-spacing:' + secondPart)\r\n      return\r\n    }\r\n    notFound()\r\n  }],\r\n  ['leading', () => {\r\n    if (partsLength === 2) {\r\n      if (isNum(secondPart)) {\r\n        setRule(`line-height:${Number(secondPart) * 0.25}rem`)\r\n        return\r\n      }\r\n      if (isStartNum(secondPart)) {\r\n        setRule('line-height:' + secondPart)\r\n        return\r\n      }\r\n    }\r\n    notFound()\r\n  }],\r\n  ['placeholder', () => {\r\n    classAdd = '::placeholder'\r\n    if (partsLength === 3) {\r\n      if (secondPart === 'opacity') {\r\n        setOpacity('color-opacity')\r\n        return\r\n      }\r\n    }\r\n    setColor('color')\r\n  }],\r\n  ['align', () => {\r\n    if (includes('baseline,top,middle,bottom,text-top,text-bottom', rest)) {\r\n      setRule('vertical-align:' + rest)\r\n      return\r\n    }\r\n    notFound()\r\n  }],\r\n  ['bg', () => {\r\n    rest = rest.replace('-', ' ')\r\n    if (includes('bottom,center,left,left bottom,left top,right,right bottom,right top,top', rest)) {\r\n      setRule('background-position:' + rest)\r\n      return\r\n    }\r\n    if (includes('repeat,no-repeat,repeat-x,repeat-y', rest)) {\r\n      setRule('background-repeat:' + rest)\r\n      return\r\n    }\r\n    if (includes('repeat-round,repeat-space', rest)) {\r\n      setRule('background-repeat:' + thirdPart)\r\n      return\r\n    }\r\n    if (includes('auto,cover,contain', rest)) {\r\n      setRule('background-size:' + rest)\r\n      return\r\n    }\r\n    if (partsLength === 2) {\r\n      if (includes('fixed,local,scroll', secondPart)) {\r\n        setRule('background-attachment:' + secondPart)\r\n        return\r\n      }\r\n    }\r\n    if (partsLength === 3) {\r\n      if (secondPart === 'opacity') {\r\n        setOpacity('background-color')\r\n        return\r\n      }\r\n    }\r\n    setColor('background-color')\r\n  }],\r\n  ['rounded']\r\n\r\n])\r\n\r\nlet parts\r\nlet firstPart // first  part\r\nlet secondPart // second part\r\nlet thirdPart // third part\r\nlet lastPart // last part\r\nlet partsWithoutEnd // without end\r\nlet rest\r\nlet partsLength // parts.length\r\nlet negative\r\n\r\nfunction processClass () {\r\n  sheet = styleElement.sheet\r\n  negative = ''\r\n  classAdd = ''\r\n  originalClass = cls\r\n  parts = cls.split(':')\r\n  if (parts.length > 1) {\r\n    cls = parts[parts.length - 1]\r\n    if (media.has(parts[0])) {\r\n      sheet = media.get(parts[0])\r\n    }\r\n  }\r\n  if (cls[0] === '-') {\r\n    negative = '-'\r\n    cls = cls.slice(1)\r\n  }\r\n  if (cls.length < 3) {\r\n    notFound()\r\n    return\r\n  }\r\n  parts = cls.split('-')\r\n  partsLength = parts.length\r\n  ;[firstPart, secondPart, thirdPart] = parts\r\n  lastPart = parts[partsLength - 1]\r\n  partsWithoutEnd = parts.slice(0, -1).join('-')\r\n  rest = parts.slice(1).join('-')\r\n  if (firstPart.length < 3 && firstPart !== 'bg') {\r\n    formatClass()\r\n    return\r\n  }\r\n  const classValue = classNames.get(cls)\r\n  if (classValue !== undefined) {\r\n    if (typeof classValue === 'function') {\r\n      classValue()\r\n    } else {\r\n      setRule(classValue)\r\n    }\r\n    return\r\n  }\r\n  if (partsLength < 2) {\r\n    notFound()\r\n    return\r\n  }\r\n  const process = cls2process.get(firstPart)\r\n  if (typeof process === 'function') {\r\n    process()\r\n    return\r\n  }\r\n  notFound()\r\n}\r\n\r\nfunction formatClass () {\r\n  let v\r\n  if (secondPart === 'px') {\r\n    v = `${negative}1px`\r\n  } else if (secondPart === 'full') {\r\n    v = '100%'\r\n  } else if (secondPart === 'screen') {\r\n    if (firstPart === 'w') {\r\n      v = '100vw'\r\n    } else if (firstPart === 'h') {\r\n      v = '100vh'\r\n    } else {\r\n      notFound()\r\n      return\r\n    }\r\n  } else if (isNum(secondPart)) {\r\n    v = negative + Number(secondPart) * 0.25 + 'rem'\r\n  } else if (secondPart.indexOf('/') > -1) {\r\n    let [top, bottom] = secondPart.split('/')\r\n    top = Number(top)\r\n    bottom = Number(bottom)\r\n    if (isNaN(top) || isNaN(bottom)) {\r\n      notFound()\r\n      return\r\n    }\r\n    v = negative + (Number(top) / Number(bottom)).toFixed(6) + '%'\r\n  } else if (isStartNum(secondPart)) {\r\n    v = negative + secondPart\r\n  } else {\r\n    notFound()\r\n    return\r\n  }\r\n\r\n  const basicPart = formatters.get(firstPart[0])\r\n  if (basicPart === undefined) {\r\n    notFound()\r\n    return\r\n  }\r\n  if (firstPart.length > 1) {\r\n    if (firstPart[1] === 'x') {\r\n      setRule(basicPart + `-right:${v}!important;${basicPart}-left:` + v)\r\n    } else if (firstPart[1] === 'y') {\r\n      setRule(basicPart + `-top:${v}!important;${basicPart}-bottom:` + v)\r\n    } else {\r\n      const position = positions.get(firstPart[1])\r\n      if (position === undefined) {\r\n        notFound()\r\n        return\r\n      }\r\n      setRule(basicPart + position + ':' + v)\r\n    }\r\n  } else {\r\n    setRule(basicPart + ':' + v)\r\n  }\r\n}\r\n\r\n// for (const s of document.styleSheets) {\r\n//   console.log(s)\r\n// }\r\n\r\nfunction notFound () {\r\n  if (sheet === styleElement.sheet) {\r\n    return\r\n  }\r\n  for (const s of document.styleSheets) {\r\n    console.log(s)\r\n    for (const rule of s.cssRules) {\r\n      // eslint-disable-next-line no-undef\r\n      if (rule.type === CSSRule.STYLE_RULE) {\r\n        if (rule.selectorText.split(',').map((item) => item.trim()).includes('.' + cls)) {\r\n          cls = originalClass.replace(/[.:]/, '\\\\$&')\r\n          console.log(`.${cls}${rule.cssText.slice(rule.cssText.indexOf('{'))}`)\r\n          sheet.insertRule(`.${cls}${rule.cssText.slice(rule.cssText.indexOf('{'))}`, sheet.length)\r\n          return\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction setRule (t) {\r\n  cls = originalClass.replace(/[.:()%,]/g, '\\\\$&') + classAdd\r\n  console.log(`.${cls}{${t}!important}`)\r\n  sheet.insertRule(`.${cls}{${t}!important}`, sheet.length)\r\n}\r\n"],"names":["isNum","v","isNaN","isStartNum","parseInt","split","s","indexOf","includes","ifRemTo","negative","Number","elementClassesCache","Map","classesCache","styleElement","document","createElement","head","appendChild","cls","originalClass","classAdd","sheet","media","a","set","cssRules","insertRule","length","formatters","positions","classNames","setRule","m","values","forEach","index","convertClasses1","cName","value","hPos","slice","replace","c","parts","firstPart","secondPart","thirdPart","lastPart","rest","partsLength","colors","colorNames","setColor","type","notFound","color","starting","startsWith","undefined","endsWith","colorPos","rgba","setOpacity","setPosition","cls2process","pos","num","fp","processClass","has","get","join","top","bottom","toFixed","basicPart","position","formatClass","classValue","process","styleSheets","console","log","rule","CSSRule","STYLE_RULE","selectorText","map","item","trim","cssText","t","classes"],"mappings":"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"}